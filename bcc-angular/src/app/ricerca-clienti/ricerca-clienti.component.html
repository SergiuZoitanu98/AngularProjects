
<h2 class="ml-4 mt-4">Ricerca clienti</h2>
<button type="button" class="btn btn-outline-danger" (click)="logout()">Logout</button>

<div class="container">
<div class="row">
      <form action="" class="form-group form-inline " >
       <select    name="" id="" class="form-control"  [(ngModel)]="filiali.id"  name="branch">
          <option  *ngFor="let b of branches" [value]="b.id">{{b.nome}}</option>
        </select>
        <input type="text" [(ngModel)]="clienti.nag" name="nag" placeholder="NAG" class="form-control ml-4"/>
        <input type="text" [(ngModel)]="clienti.nome" name="nome"  placeholder="Nome" class="form-control ml-4"/>
        <input type="date" [(ngModel)]="clienti.dataNascita" name="dataNascita" placeholder="Data Di Nascita" class="form-control ml-4"/>
        <button class="btn btn-primary ml-2" (click)="findClients()">Cerca Clienti</button>
      </form>
      
    </div> 
  
  </div>

     <table class="table container">
      <thead>
        <tr>
          <th scope="col">Cab</th>
          <th scope="col">NAG</th>
          <th scope="col">Nome</th>
          <th scope="col">Data</th>
          <th scope="col">Dettagli</th>
      

        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let c of clients">
          <th scope="row">{{c.cab}}</th>
          <td>{{c.nag}}</td>
          <td>{{c.nome}}</td>
          <td>{{c.dataNascita}}</td>
         
          <td *ngIf="c.confermato == true; else elseBlock"><button class= "btn btn-primary" data-toggle="modal"  (click)="checkClient(c)" data-target="#confermato">Confermato</button></td>
          <ng-template #elseBlock><button class= "btn btn-primary" data-toggle="modal" data-target="#nonConfermato" (click)="checkClient(c)">Non Confermato</button></ng-template>

        </tr>
      
        <div class="modal fade" id="confermato" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle" aria-hidden="true">
          <div class="modal-dialog modal-dialog-centered" role="document">
            <div class="modal-content">
              <div class="modal-header">
                <h5 class="modal-title" id="exampleModalLongTitle">Utente confermato</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                  <span aria-hidden="true">&times;</span>
                </button>
              </div>
              <div class="modal-body" >
              
          
              </div>
              <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                <button type="button" class="btn btn-primary">Save changes</button>
              </div>
            </div>
          </div>
        </div>

        <div class="modal fade" id="nonConfermato" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle" aria-hidden="true">
          <div class="modal-dialog modal-dialog-centered" role="document">
            <div class="modal-content">
              <div class="modal-header">
                <h5 class="modal-title" id="exampleModalLongTitle">Utente Non Confermato</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                  <span aria-hidden="true">&times;</span>
                </button>
              </div>
              <div class="modal-body"  >
                
                <ul>
                  <li >  
                    <h5>Nag</h5>
                    {{nag}}
                  </li>
                  <li >  
                    <h5>Nome di Battesimo</h5>
                    {{nome}}
                  </li>
                  <li >  
                    <h5>Data di Nascita</h5>
                    {{dataNascita}}
                  </li>
                  <li >  
                    <h5>Numero di telefono</h5>
                    {{numeroTelefono}}
                  </li>
                  <li >  
                    <h5>Email</h5>
                    {{email}}
                  </li>
                  
                  
                  <h5>Privacy</h5>
                  <li >  
                    <p>p1{{privacy1}}</p>
                  </li>
                  <li >  
                    <p>p2{{privacy2}}</p>
                  </li>
                  <li >  
                    <p>p3 {{privacy3}}</p>
                  </li>
                  <li >  
                    <p>p4{{privacy4}}</p>
                  </li>
                  <li >  
                    <p>p5 {{privacy5}}</p>
                  </li>
                  <li >  
                    <p>p6 {{privacy6}}</p>
                  </li>
                  <li >  
                    <p>id {{id}}</p>
                  </li>
                </ul>
               
              </div>
              
              <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                <button type="button" class="btn btn-primary" (click)="conferma()">Save changes</button>
              </div>
            </div>
          </div>
        </div>